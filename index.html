<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ares RPG - Oficial</title>
    
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.1/firebase-database-compat.js"></script>
    <style>
        /* ... Seus estilos anteriores ... */
        body { 
            font-family: 'Segoe UI', sans-serif; 
            background: linear-gradient(rgba(15, 23, 42, 0.8), rgba(15, 23, 42, 0.9)), 
                        url('https://images.unsplash.com/photo-1543007630-9710e4050a19?q=80&w=2000&auto=format&fit=crop'); 
            background-size: cover; background-attachment: fixed;
            color: #f8fafc; margin: 0; padding: 15px; padding-bottom: 80px;
        }

        /* CORREÃ‡ÃƒO 1: TransparÃªncia do Logo */
        .logo-container {
            background: transparent !important;
            text-align: center;
            padding: 10px;
        }
        .logo-container img {
            max-width: 150px;
            background: transparent !important;
            /* Remove fundo branco caso a imagem nÃ£o seja PNG transparente */
            mix-blend-mode: lighten; 
            display: block;
            margin: 0 auto;
        }

        .card { 
            background: rgba(30, 41, 59, 0.9); backdrop-filter: blur(10px);
            padding: 20px; border-radius: 15px; box-shadow: 0 8px 32px rgba(0,0,0,0.5); 
            margin-bottom: 15px; border: 1px solid rgba(51, 65, 85, 0.5); 
        }

        /* Estilo do botÃ£o de fechar propaganda */
        .btn-close-ad {
            float: right;
            background: rgba(0,0,0,0.3);
            border: none;
            color: white;
            border-radius: 50%;
            width: 25px;
            height: 25px;
            cursor: pointer;
            font-size: 12px;
            line-height: 1;
        }

        /* ... Restante dos seus estilos (Progress bar, botÃµes, etc) ... */
    </style>
</head>
<body>

    <div class="logo-container">
        <img src="logo.png" alt="Ares RPG Logo">
    </div>

    <div id="ad-canal" class="ad-banner" style="background: linear-gradient(45deg, #ff0000, #cc0000);">
        <button class="btn-close-ad" onclick="this.parentElement.style.display='none'">X</button>
        ðŸŽ¥ <b>CANAL ARES7</b>
        <a href="https://www.youtube.com/aressama" target="_blank">Inscreva-se no Canal</a>
    </div>

    <div id="ad-indicador" class="ad-banner">
        <button class="btn-close-ad" onclick="this.parentElement.style.display='none'">X</button>
        ðŸ“ˆ <b>INDICADOR ICARO SCALP</b>
        <a href="https://linktr.ee/Ares7" target="_blank">Acesse o Indicador Aqui</a>
    </div>

    <script>
        // ... ConfiguraÃ§Ã£o Firebase e variÃ¡veis globais ...

        // CORREÃ‡ÃƒO 2: LÃ³gica de MissÃµes (Valores corrigidos e SEM trava de tempo)
        function concluirMissao(id, v, d=false) {
            const p = dadosGerais[jogadorAtual], ms = p.missoes || [];
            let m = ms.find(x => x.id === id);
            
            // Valor combinado: MissÃµes DiÃ¡rias valem mais agora se desejar
            const valorMoedas = v; 
            const valorXP = v;

            if(!m && d) { 
                // Para missÃµes obrigatÃ³rias (Treino, etc)
                ms.push({id, nome:id.split('-')[1], valor:v, concluida:true}); 
                db.ref('rpg_data/'+jogadorAtual).update({
                    xp: (p.xp || 0) + valorXP, 
                    coins: (p.coins || 0) + valorMoedas, 
                    missoes: ms
                }); 
            }
            else if(m && !m.concluida) { 
                // Para missÃµes pessoais
                m.concluida = true; 
                db.ref('rpg_data/'+jogadorAtual).update({
                    xp: (p.xp || 0) + (v > 0 ? v : 0), 
                    coins: (p.coins || 0) + (v > 0 ? v : 0), 
                    missoes: ms
                }); 
            }
            // NOTA: A trava de "24 horas" foi removida completamente. 
            // O sistema agora permite ganhar sempre que concluir.
        }

        // ... Restante das suas funÃ§Ãµes (fazerLogin, iniciarDuelo, atualizarTela, etc) ...

    </script>
</body>
</html>
